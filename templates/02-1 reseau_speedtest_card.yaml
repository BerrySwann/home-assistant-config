
#========================================================================
#
# RÉSEAU — SpeedTest CLI
#
#========================================================================

- sensor:
  - name: 'SpeedTest CLI Ping'
    unique_id: speedtest_cli_ping
    icon: mdi:speedometer
    unit_of_measurement: ms
    state_class: measurement
    state: "{{ (states('sensor.speedtest_cli_data') | from_json).ping | round(2) }}"
  - name: 'SpeedTest CLI Download'
    unique_id: speedtest_cli_download
    icon: mdi:speedometer
    unit_of_measurement: Mbit/s
    state_class: measurement
    state: "{{ ((states('sensor.speedtest_cli_data') | from_json).download * 8 / 1000 / 1000) | round(2) }}"
  - name: 'SpeedTest CLI Upload'
    unique_id: speedtest_cli_upload
    icon: mdi:speedometer
    unit_of_measurement: Mbit/s
    state_class: measurement
    state: "{{ ((states('sensor.speedtest_cli_data') | from_json).upload * 8 / 1000 / 1000) | round(2) }}"
